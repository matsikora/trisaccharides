# FAQ #

  * **Q: What are ACPYPE limitations?**
  * **A:** Because ACPYPE is based on Antechamber, it will as well inherit some of its limitations like not being possible to work with organic molecule with open valences; containing others atoms than C, N, O, S, P, H, F, Cl, Br and I; or covalently bonded to another molecule. If one wants parameters for a modified amino acid residue, one way of getting it is by neutralising the N- and C- termini and then fit manually the additional parameters to the modified residue (See more about it in questions below).
> > Ideally, one should know well about the molecule one is trying to parametrise and should read the pertinent papers related to the force field intended to be used (see references below). Therefore be warned if using ACPYPE/Antechamber as a blackbox.

  * **Q: How do I install ACPYPE?**
  * **A:** Please, read [How To Use ACPYPE](HowToUse.md) wiki page.

  * **Q: Why only one residue per try?**
  * **A:** **ACPYPE** is not ready to deal with more than one chain. In fact, **antechamber** will likely take the first residue name and apply it for all. Results can be completely unpredictable. Split your molecular system with one ligand only in each pdb/mol2 file.

  * **Q: I have a modified residue in my protein or ligand covalently bonded to my protein and ACPYPE doesn't work. Why?**
  * **A:** **ACPYPE** is not that smart to automatise this procedure, but one can still obtain a topology. You need to isolate your special residue with the 2 next residues it is connected: Res1-MY\_RES-Res2 and then make those Res1 and Res2 (N and T) zwitterions and run ACPYPE. Once you have the parameters in hand, you'll need to manually tweak your topology data around the bonds connected to the modified residue.

  * **Q: Why this error `/bin/sh: -i: not found"`?**
  * **A:** You haven't setup you $AMBERHOME and $PATH properly. Rerun ACPYPE with `-d` option for more info.

  * ~~**Q: _amb2gmx.pl_ doesn't use _antechamber_ and needs only _parmtop_ and _inpcrd_ files. Why _acpype_ cannot reproduce _amb2gmx.pl_ completely?**~~
  * ~~**A:** Not yet! In fact, this feature is on progress. Once done, one will be able to use **tleap/sleap/xleap** from **AMBER** package to generate _parmtop_ and _inpcrd_ files and use them to generate GROMACS files via **acpype**, in the way **amb2gmx.pl** does, with no need of **ffAMBER**.~~
    * **DONE!**

  * **Q: Why _acpype_ fails saying it cannot found _antechamber_?**
  * **A:** If you're not using **ACPYPE** as a replacement for _amb2gmx.pl_ (see the strikeout question above), then you **must** have _[antechamber](http://amber.scripps.edu/#AmberTools)_ installed and properly set: either via _$AMBERHOME_ environment variable or with the path to folder containing _antechamber_ binary in your _$PATH_.

  * **Q: I downloaded a pdb file from [PDB](http://www.pdb.org) and it seems to not have hydrogens. When I use _acpype_ it fails, why?**
  * **A:** You definitely need a pdb/mol2 input file with all atoms (including hydrogens), otherwise **antechamber** (including a step with **mopac**) will not know or (even worse) will calculate wrong parameters and charges. You can use either, e.g., `babel -h _mol_w/o_H_.pdb _mol_with_H.pdb` or [YASARA View](http://www.yasara.org) to automatically add missing hydrogens to your compound. The former just puts 'H' for atom names while the latter puts more meaningful atom name, e.g., 'HCA' for a H bonded to a CA and not a simply 'H' as **babel** does.

  * **Q: My complex has 2 ligands, what can I do to get it working with GROMACS?**
  * **A:** Let's say you have `lig1` and `lig2`. Once you have used **ACPYPE** for each ligand, you need to merge the `[ atomtypes ]` fields, i.e., take the _atoms lines_ from `[ atomtypes ]` of `lig2.itp` (delete field `[ atomtypes ]` and its content in `lig2.itp` file) and add the _atoms lines_ that are not already there in `[ atomtypes ]` of `lig1.itp`. Then in your `Complex.top` file insert line `#include "lig1.itp"`, and in the line below, `#include "lig2.itp"` all right below line `#include "ffamber*.itp"`. This procedure applies always you have _n >= 2_ ligands.

  * **Q: When I'm trying to simulate systems with protonated ADP/ATP states, whose topologies were generated by ACPYPE, I usually get that one of the protons linked to the hydroxyl group of phosphates moving too much towards to the oxygen or phosphorus, like if there was no van der Waals repulsion between them?**
  * **A:** This happens due to the strong Coulomb force of attraction between the atoms involved, since they have opposite charges, and the total absence of VDW radii parameters. To solve it, please do this in your `*.itp` file:

Replace line:
```
# For GAFF
ho       ho          0.00000  0.00000   A     0.00000e+00   0.00000e+00 ; 0.00  0.0000

# For AMBER
HO       HO          0.00000  0.00000   A     0.00000e+00   0.00000e+00 ; 0.00  0.0000
```
with
```
# For GAFF
ho       ho          0.00000  0.00000   A     1.06908e-01   6.56888e-02 ; 0.00  0.0000

# For AMBER
HO       HO          0.00000  0.00000   A     1.06908e-01   6.56888e-02 ; 0.00  0.0000
```